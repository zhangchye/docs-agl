<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta name="format-detection" content="telephone=no">
    <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width" />
    <meta name="description" content=" ">

    <title>
	    AGL Developer Site - 
        
            
                Proprietary drivers  -
            
        
    </title>

    <link rel="SHORTCUT ICON" href="/favicon.ico"/>

    

    
    

    <link rel="canonical" href="http://docs.automotivelinux.org/docs/hardware/en/dev/reference/renesas/proprietary.html">

    <!-- CSS -->
    <link rel="stylesheet" type="text/css" href="/static/styles/main.css">
    <link rel="stylesheet" type="text/css" href="/static/styles/syntax.css">
    <!-- Algolia Search CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.css" />

    <!-- Fonts -->
    <!-- For attribution information, see www/attributions.html -->
    <link href='https://fonts.googleapis.com/css?family=Raleway:700,400,300,700italic,400italic,300italic' rel='stylesheet' type='text/css'>

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
        <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <!-- <script defer type="text/javascript">
        var disqus_developer = ; // this would set it to developer mode
    </script>-->

    <!-- JS -->
    <script defer type="text/javascript" src="/static/js/lib/jquery-2.1.1.min.js"></script>
    <script defer type="text/javascript" src="/static/js/lib/bootstrap.min.js"></script>
<!--    <script defer type="text/javascript" src="/static/js/lib/ZeroClipboard.js"></script>-->

    <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', '{}', 'auto');
    ga('send', 'pageview');
</script>

</head>

<body>
    <header>
    <a class="scroll-point pt-top" name="top"></a>
    <nav class="navbar navbar-inverse navbar-fixed-top">
        <div class="container-fluid">
            <div class="navbar-header">
                <a class="navbar-brand" href="/"><img id="logo_top" src="/static/img/branding/agl_title_793x211.png"/></a>
                <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
            </div>
            <div id="navbar" class="navbar-collapse collapse">
                <div class="nav_bar_left">
                    <ul class="nav navbar-nav">
                        <li >
                            <a href="/docs/getting_started/en/dev/">Getting Started</a>
                        </li>
                                                
                        <li >
                            <a href="/docs/architecture/en/dev/">Architecture Guides</a>
                        </li>

                        <li >
                            <a href="/docs/hardware/en/dev/">Hardware Support</a>
                        </li>

                        <li >
                            <a href="/docs/devguides/en/dev/">Developer Guides</a>
                        </li>
                        
                        <li >
                            <a href="/docs/apis_services/en/dev/">APIs & Services</a>
                        </li>
					</ul>
				</div>
                <div class="nav_bar_right">
                    <ul class="nav navbar-nav">
                        <li >
                            <a href="/techpost" id="blog_button">TechPost<span class="badge" id="new_blog_count"></span></a>
                        </li>
                        <li >
                            <a href="/contribute">Contribute</a>
                        </li>
                        <li>
                            <form class="navbar-form navbar-right" id="header-search-form" role="search">
                                <div class="input-group">
                                    
                                    <input id="header-search-field" type="text" placeholder="Search 'dev' docs..." class="form-control hidden-xs" autocomplete="off">
                                </div>
                            </form>
                        </li>
                    </ul>
                </div>
            </div><!--/.navbar-collapse -->
        </div>
    </nav>
    <div id="_fixed_navbar_spacer" style="padding-top:50px"></div>
</header>














<div class="docs container">

    <!-- Table of Contents -->
    <div class="hidden-xs hidden-sm col-md-4 col-lg-3 site-toc-container">
        <ul class="site-toc">
    

    <li>
        
            <span class="toc-section-heading">
                Renesas Boards
            </span>
        

        
        

        
        <ul class="site-toc">
    

    <li>
        
            <a class="" href="/docs/hardware/en/dev/reference/renesas/gen2.html">
                meta-rcar-gen2 layer
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="this-page" href="/docs/hardware/en/dev/reference/renesas/proprietary.html">
                Proprietary drivers
            </a>
            
                <span class="entry-highlight"></span>
            
        

        
        <div id="page-toc" class="page-toc"></div>

        
    </li>
    

    <li>
        
            <a class="" href="/docs/hardware/en/dev/reference/renesas/usb-gadget.html">
                USB Gadget on Porter board
            </a>
            
        

        
        

        
    </li>
    
</ul>

        
    </li>
    
</ul>

    </div>

    <!-- Page content -->
    <div class="col-md-8 col-md-offset-4 col-lg-9 col-lg-offset-3 page-content-container container">
        <div class="page-content row">
            <div class="col-md-offset-1 col-md-10">
                <div class="content-header">

                    <!-- ToC Dropdown (for XS and SM sizes only) -->
                    <div class="toc-dropdown dropdown visible-xs-block visible-sm-block">
                        <button class="btn btn-default dropdown-toggle" type="button" id="tocDropdown" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
                            Table of Contents
                            <span class="caret"></span>
                        </button>
                        <ul class="dropdown-menu">
                            






<li>
    <a class="" href="reference/renesas/gen2.html">
        meta-rcar-gen2 layer
    </a>
</li>




<li>
    <a class="this-page" href="reference/renesas/proprietary.html">
        Proprietary drivers
    </a>
</li>




<li>
    <a class="" href="reference/renesas/usb-gadget.html">
        USB Gadget on Porter board
    </a>
</li>







                        </ul>
                    </div>

                    
                    
                        <a class="edit" href=""><span class="glyphicon glyphicon-pencil" aria-hidden="true"></span> Edit</a>

                    
                    

                    <!-- Language dropdown -->
                    <div class="dropdown">
                        <button class="btn btn-default dropdown-toggle" type="button" id="languageDropdown" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
                            
                            <span class="caret"></span>
                        </button>

                        <!-- List all languages -->
                        <ul class="dropdown-menu" aria-labelledby="languageDropdown">
                            
                        </ul>
                    </div>

                    <!-- Version dropdown -->
                    <div class="dropdown">
                        <button class="btn btn-default dropdown-toggle" type="button" id="versionDropdown" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
                            dev
                            
                            <span class="caret"></span>
                        </button>
                        <ul class="dropdown-menu" aria-labelledby="versionDropdown">

                            <!-- List versions available in this language -->
                            
                        </ul>
                    </div>
                </div>

                
                
                

                
                

                <!-- Show warnings for special versions -->
                <!-- dev warning -->
                
                    <div class="alert docs-alert alert-info" role="alert">
                        <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                        Draft version of documentation under development may change!
                        <a href="/docs/en/latest/">
                            Click here for the latest released version.
                        </a>
                    </div>
                
                
                <!-- outdated warning -->
                


                <div id="page-toc-source">
                    <!-- WARNING: This file is generated by fetch_docs.js using /w/workspace/sandbox-doc-update/webdocs-agl/contain/tocs/hardware/fetched_files.yml -->

<h1 id="proprietary-libraries-for-meta-rcar-gen2">Proprietary libraries for meta-rcar-gen2</h1>

<p>The meta-rcar-gen2 of meta-renesas is supported GLES(RGX and SGX) libraries
for x11 and Weston, and proprietary library of multimedia. This README describes
how to use these features and setting to local.conf.
There are 4 main paths:
	I/ Board configuration
	II/ Build with or without GLES
	III/ Build with Renesas multimedia libraries
	IV/ Configuration for unmasking packages</p>

<p>The default package is without GLES and including multimedia feature with H264 decoder.
Therefore, please check section II to config for GLES,
And check section III for configuration of optional multimedia packages.</p>

<p>In addition, these binaries are not provided at the recipes. If you want to use,
you will need to get from Renesas.</p>

<h1 id="i-board-configuration">I/ Board configuration</h1>
<ul>
  <li>Please add this line to local.conf depending on your board
  A. For Lager board
         MACHINE ??= “lager”
  B. For Koelsch board
         MACHINE ??= “koelsch”
  C. For Gose board
         MACHINE ??= “gose”
  D. For Alt board
         MACHINE ??= “alt”</li>
</ul>

<h1 id="ii-build-with-or-without-gles">II/ Build with or without GLES</h1>
<div class="highlighter-rouge"><pre class="highlight"><code>A/ Build with GLES
	* For wayland with rgx/sgx

	1. Please copy proprietary libraries to the directory of recipes.
	2. Please set local.conf the following.
		Step 1: Adding features and preferred providers:

		   MACHINE_FEATURES_append = " sgx"
		   MULTI_PROVIDER_WHITELIST += "virtual/libgl virtual/egl virtual/libgles1 virtual/libgles2"
		   PREFERRED_PROVIDER_virtual/libgles1 = ""
		   PREFERRED_PROVIDER_virtual/libgles2 = "gles-user-module"
		   PREFERRED_PROVIDER_virtual/egl = "libegl"
		   PREFERRED_PROVIDER_virtual/libgl = ""
		   PREFERRED_PROVIDER_virtual/mesa = "mesa"
		   PREFERRED_PROVIDER_libgbm = "libgbm"
		   PREFERRED_RPROVIDER_libgbm-dev = "libgbm"

		 NOTE: The r8a7790 uses rgx, r8a7791, r8a7793 and r8a7794 uses sgx.
			   If you want to use rgx, please set to 'rgx' instead of 'sgx'.
			   For r8a7790, if you want to use OPENGLES3,
			   Please set following in local.conf (default is OPENGLES2)
				  OPENGLES3 = "1"
		Step 2: Unmask the graphic recipes

			#BBMASK .= "|gles-kernel-module|gles-user-module"

	  3. Please run 'bitbake core-image-weston'

	* For X11 with rgx/sgx
	1. Please copy proprietary libraries to the directory of recipes.
	2. Please set local.conf the following.
		Step 1: Adding features and preferred providers:

		   MACHINE_FEATURES_append = " sgx"
		   MULTI_PROVIDER_WHITELIST += "virtual/libgl virtual/egl virtual/libgles1 virtual/libgles2"
		   PREFERRED_PROVIDER_virtual/libgles2 = "gles-user-module"
		   PREFERRED_PROVIDER_virtual/egl = "gles-user-module"
		   DISTRO_FEATURES_remove = "wayland"
		   BBMASK .= "|libegl|libgbm|wayland-kms"

		 NOTE: The r8a7790 uses rgx, r8a7791, r8a7793 and r8a7794 uses sgx.
			   If you want to use rgx, please set to 'rgx' instead of 'sgx'.
			   For r8a7790, if you want to use OPENGLES3,
			   Please set following in local.conf (default is OPENGLES2)
				  OPENGLES3 = "1"
		Step 2: Unmask the graphic recipes

			#BBMASK .= "|gles-kernel-module|gles-user-module"

	  3. Please run 'bitbake core-image-x11'

B/ Build without GLES
	* For X11 without rgx/sgx
	1. Please copy proprietary libraries to the directory of recipes.
	2. Please set local.conf the following.

		  DISTRO_FEATURES_remove = "wayland"
		  BBMASK .= "|libegl|libgbm|wayland-kms"

	If you need to install multimedia packages.
	Please check section of 'Build with Renesas multimedia libraries'.
</code></pre>
</div>

<h1 id="iii-build-with-renesas-multimedia-libraries">III/ Build with Renesas multimedia libraries</h1>
<div class="highlighter-rouge"><pre class="highlight"><code>A/ Configuration for Multimedia and DTV features
	1. Please copy proprietary libraries to the directory of recipes.
	2. Please set local.conf the following.

		# For multimedia feature
		This provides package group of plug-ins of the GStreamer, multimedia
		libraries and kernel drivers.

			MACHINE_FEATURES_append = " multimedia"

		# For DTV feature
	    This provides package group of dtv libraries with packagegroup-rcar-gen2-multimedia.
		Step 1 : Adding MACHINE_FEATURES

			MACHINE_FEATURES_append = " dtv"

		Step 2: Unmask dtv recipes

			#BBMASK .= "|dtv-module|ssp-module|scu-module"

B/ Configuration for optional codecs and middleware
	1. Please copy proprietary libraries to the directory of recipes.
	2. Add features to DISTRO_FEATURES_append to local.conf
		# Additional configuration in OMX module
		" h263dec_lib"    - for OMX Media Component H263 Decoder Library
		" vc1dec_lib"     - for OMX Media Component VC-1 Decoder Library
		" mpeg4dec_lib"   - for OMX Media Component MPEG-4 Decoder Library
		" mpeg2dec_lib"   - for VCP3 Driver Adapted for Linux MPEG-2 Decoder Library
		" divxdec_lib"    - for DivX Decoder Library for Linux
		" h264avcenc_lib" - for Encoder Library for Linux

		# Configuration for audio decoders
		" aacp2dec_lib"   - for ARM 5.1ch aacPlus V2 Decoder for Linux
		" mp3dec_lib"     - for ARM MP3 Decoder for Linux
		" wmadec_lib"     - for ARM WMA Decoder for Linux
		" ddddec_lib"     - for ARM 5.1ch Dolby Digital Decoder for Linux
		" alacdec_lib"    - for ARM ALAC Decoder for Linux
		" flacdec_lib"    - for ARM FLAC Decoder for Linux
		" aacenc_lib"     - for ARM AAC Encoder for Linux

		# Configuration for audio middlewares
		" armaccp2dec_mdw"  - for ARM 5.1ch aacPlus V2 Decode Middleware for Linux
		" mp3dec_mdw"       - for ARM MP3 Decode Middleware for Linux
		" wmadec_mdw"       - for ARM WMA Decode Middleware for Linux
		" ddddec_mdw"       - for ARM 5.1ch Dolby Digital Decode Middleware for Linux
		" alacdec_mdw"      - for ARM ALAC Decode Middleware for Linux
		" flacdec_mdw"      - for ARM FLAC Decode Middleware for Linux
		" aacenc_mdw"       - for ARM AAC Encode Middleware for Linux
	Ex:

			DISTRO_FEATURES_append = " mp3dec_lib wmadec_lib mp3dec_mdw wmadec_mdw"

C/ Configuration for test packages
	1. Please copy proprietary libraries to the directory of recipes.
	2. Add features to DISTRO_FEATURES_append to local.conf

		# Configuration for multimedia test package
		Step 1 : Adding DISTRO_FEATURES

			DISTRO_FEATURES_append = " mm-test"

		Step 2: Unmask multimedia test recipes

			#BBMASK .= "|${BB_MULTIMEDIA_TEST_MODULE}"

		# Configuration for gles test package
		Step 1 : Adding DISTRO_FEATURES

			DISTRO_FEATURES_append = " gles-test"

		Step 2: Unmask gles test recipes

			#BBMASK .= "|gles-test-module"
</code></pre>
</div>



                </div>
            </div>
        </div>
        <div class="row">
            <div class="blue-divider"></div>
<footer>
    <div class="container-fluid">
        <div class="row">
    <div class="col-sm-9">
        <h1>More Resources</h1>
        <div class="row">
            <div class="col-sm-4">
                <h2>General</h2>
                <ul class="nav">
                    <li>
                        <a target="_blank" href="https://www.automotivelinux.org/">AGL Developer Community</a>
                    </li>
                    <li>
                        <a href="https://www.automotivelinux.org/software/download/">Download Distribution</a>
                    </li>
                    <li>
                        <a href="https://gerrit.automotivelinux.org/gerrit/#/admin/projects/">Source Code on Git</a>
                    </li>
                    <li>
                        <a target="_blank" href="/contact">Mailing List</a>
                    </li>
                </ul>
            </div>
            <div class="col-sm-4">
                <h2>Development</h2>
                <ul class="nav">
                    <li><a target="_blank" href="https://wiki.automotivelinux.org/agl-distro/source-code">Source Code</a></li>
                    <li><a target="_blank" href="https://jira.automotivelinux.org/browse/SPEC/?selectedTab=com.atlassian.jira.jira-projects-plugin:summary-panel">Issue Tracker</a></li>
                    <li><a target="_blank" href="https://wiki.automotivelinux.org/">Wiki</a></li>
                    <li><a href="https://www.automotivelinux.org/contact-us">Contact</a></li>
                </ul>
            </div>
            <div class="col-sm-4">
                <h2>Automotive Grade Linux @ Linux Foundation</h2>
                <ul class="nav">
                    <li>
                        <a target="_blank" href="https://www.automotivelinux.org/">About AGL</a>
                    </li>
                    <li>
                        <a target="_blank" href="http://www.linuxfoundation.org/">About Linux Foundation</a>
                    </li>
                    <li>
                        <a target="_blank" href="https://wiki.automotivelinux.org/start/getting-started">Join AGL community</a>
                    </li>
                    <li>
                        <a target="_blank" href="https://www.automotivelinux.org/about/members">Members</a>
                    </li>
                </ul>
            </div>
        </div>
    </div>
    <div class="col-sm-3">
        <h1>Contribute</h1>
        <p style="padding-top:20px"><strong>Help AGL move forward!</strong></p>
        <p>Report bugs, improve the docs, or contribute to the code.</p>
        <a href="/contribute" class="btn btn-lg btn-primary">
            Learn More
        </a>
        <p style="padding-top:20px"> <a href="https://twitter.com/autogradelinux" class="twitter-follow-button" data-show-count="false">Follow @autogradelinux</a></p>
    </div>
</div>
<div class="row">
	<div class="col-sm-9">
		<p class="copyright_text">
			Copyright &copy; 2015-2016 Automotive Grade Linux Documentation, Licensed under the <a target="_blank" href="http://www.apache.org/licenses/LICENSE-2.0">Apache License, Version 2.0</a>.
			<br/>
			Automotive Grade Linux and logos are <a target="_blank" href="http://www.linuxfoundation.org">trademarks</a> of The Linux Foundation.
			<br/>
			Initial site design from <a href="https://cordova.apache.org/">Cordova website.</a> - warm thanks !
		</p>
	</div>
    <div class="col-sm-3">
		<small class="stats">Page rendered at:  2017-06-26 00:06:48 +0000</small>
		
		<br/><small class="stats"><a href="https://gerrit.automotivelinux.org/gerrit/gitweb?p=AGL/meta-renesas.git;a=blob_plain;f=meta-rcar-gen2/README.proprietary;hb=master">Link to source document</small>
		
	</div>
</div>

    </div>
</footer>

        </div>
    </div>
</div>

<script defer type="text/javascript" src="/static/js/lib/toc.min.js"></script>
<script defer type="text/javascript" src="/static/js/docs.js"></script>

    <script defer type="text/javascript" src="/static/js/twitter.js"></script>
    



<script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.js"></script>
<script type="text/javascript">
    docsearch({
        apiKey: 'edd30bcff9f6df4b095c41cba3e5a418',
        indexName: 'automotivelinux',
        inputSelector: '#header-search-field',
    });
</script>

            
    

</body>
</html>
